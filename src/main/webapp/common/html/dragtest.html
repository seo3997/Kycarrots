<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VueDraggable 예제</title>
<!-- Vue.js CDN -->
<script src="/common/vue/bootstrapvue/vue2.js"></script>
<!-- CDNJS :: Sortable (https://cdnjs.com/) -->
<script src="/common/vue/bootstrapvue/Sortable.min.js"></script>
<!-- CDNJS :: Vue.Draggable (https://cdnjs.com/) -->
<script src="/common/vue/bootstrapvue/vuedraggable.umd.min.js"></script>
</head>
<body>

<div id="app">
  <h2>할 일 목록</h2>
  <!-- 드래그 앤 드롭이 가능한 리스트 -->
  <draggable v-model="todos" group="todos" @end="onDragEnd">
    <div v-for="(todo, index) in todos" :key="todo.id" class="todo-item">
      {{ todo.text }}
    </div>
  </draggable>
</div>

<script>
// Vue 인스턴스 생성 전에 VueDraggable을 등록해야 합니다.
Vue.component('draggable', window.vuedraggable.default);

new Vue({
  el: '#app',
  data: {
    todos: [ // 할 일 목록 데이터
      { id: 1, text: '청소하기' },
      { id: 2, text: '식사 준비하기' },
      { id: 3, text: '쇼핑 가기' },
      { id: 4, text: '운동하기' }
    ]
  },
  methods: {
    // 드래그 앤 드롭 종료 시 호출되는 메서드
    onDragEnd(event) {
        console.log('이동된 아이템 인덱스:', this.todos);
           	
      console.log('이동된 아이템 인덱스:', event.newIndex);
      // 여기에서 필요한 작업을 수행할 수 있습니다.
    }
  }
});
</script>

<style>
.todo-item {
  background-color: #f0f0f0;
  padding: 10px;
  margin-bottom: 5px;
  cursor: grab;
}
</style>

</body>
</html>